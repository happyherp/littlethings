<html>
  <head>
    <script type="text/javascript" src="/static/common.js"></script>
    <script type="text/javascript" src="/static/recorder.js"></script>
    <script type="text/javascript" src="/static/player.js"></script>
    <script type="text/javascript" src="/static/rewind.js"></script>
    <script type="text/javascript" src="/static/map.js"></script>
    <script type="text/javascript" src="/static/timer.js"></script>
    <script type="text/javascript" src="/static/domtest.js"></script>    
    
    <script type="text/javascript"> 
    
    
      function reinsert(){
        var nodes = []
        while (document.body.childNodes.length){
          var node = document.body.childNodes[0];
          document.body.removeChild(node);
          nodes.push(node);
        }
        
        while (nodes.length){
	      document.body.appendChild(nodes.pop());
        }        
        
      }
      
      function reverse(){
        var nodes = []
        while (document.body.childNodes.length){
          var node = document.body.childNodes[0];
          document.body.removeChild(node);
          nodes.push(node);
        }
        
        while (nodes.length){
	      document.body.appendChild(nodes.splice(nodes.length-1,1)[0]);
        }          
      }
    
      function moveTree(){
        var child1 = document.getElementById("child1");
        child1.parentNode.removeChild(child1);
        document.body.insertBefore(child1, document.getElementById("C"));
      }
      
      function revMoveRev(){
        reverse();
        moveTree();
        reverse();
      }
      
      function doubleReverse(){
        reverse();
        reverse();
      }
      
      function test1(){
        document.body.insertBefore(document.getElementById("C"),document.getElementById("A"));
        moveTree();        
      }
      


      window.onload = function(){       
                
        runtests([function(){},
                  function(){
                    var b = document.getElementById("B");
                    document.body.removeChild(b);
                    
                    var newnode = document.createElement("div");
                    document.body.appendChild(newnode);
                    
                    
                    document.body.appendChild(b);
        		  },
        		  reinsert,
        		  reverse,
                  moveTree,
                  revMoveRev,
                  doubleReverse,
                  test1
                  ]);
      };
    </script>
    
    
  </head>
  <body>
  
    <div id = "A">A</div>
    <div id = "B">B</div>
    <div id = "C">C</div>
    <div id ="parent">
      <div id ="child1" >
        c1
        <div id ="subchild11">s11</div>
      </div>
      <div id ="child2" >c2</div>      
    </div>

  </body>

</html>