<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <script type="application/javascript">
        var ws = null;

        function connect() {
        	var target = 'ws://' + window.location.host + '/socketfront/guiEndpoint';
        	console.log("connecting");
            if ('WebSocket' in window) {
                ws = new WebSocket(target);
            } else if ('MozWebSocket' in window) {
                ws = new MozWebSocket(target);
            } else {
                alert('WebSocket is not supported by this browser.');
                return;
            }
            ws.onopen = function () {
                console.log('Info: WebSocket connection opened.');
            };
            ws.onmessage = function (event) {
            	console.log('Received: ' + event.data);
            };
            ws.onclose = function () {
                console.log('Info: WebSocket connection closed.');
            };
        }

        function disconnect() {
            if (ws != null) {
                ws.close();
                ws = null;
            }
            setConnected(false);
        }
        
        window.onload = connect;
    </script>
</head>
<body>
<div id="maincontainer">
</div>
</body>
</html>